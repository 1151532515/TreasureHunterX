{"version":3,"sources":["../../../../assets/scripts/assets/scripts/PBCodec.js"],"names":["cc","Class","extends","Component","encodeFrameSync","objectData","message","window","FrameSync","create","buffer","encode","finish","decodeFrameAck","typedArray","Uint8Array","frameAck","decode","e","error"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,mBAAiB,yBAACC,UAAD,EAAgB;AAC/B,QAAMC,UAAUC,OAAOC,SAAP,CAAiBC,MAAjB,CAAwBJ,UAAxB,CAAhB;AACA,QAAMK,SAAUH,OAAOC,SAAP,CAAiBG,MAAjB,CAAwBL,OAAxB,EAAiCM,MAAjC,EAAhB;AACA,WAAOF,MAAP;AACD,GAPM;;AASPG,kBAAgB,wBAACH,MAAD,EAAY;AAC1B,QAAI;AACF,UAAMI,aAAa,IAAIC,UAAJ,CAAeL,MAAf,CAAnB;AACA,aAAO,UAAKM,QAAL,CAAcC,MAAd,CAAqBH,UAArB,CAAP;AACD,KAHD,CAGE,OAAOI,CAAP,EAAU;AACVlB,SAAGmB,KAAH,CAAS,4BAAT,EAAuCD,CAAvC;AACD;AACD,WAAO,IAAP;AACD;AAjBM,CAAT","file":"PBCodec.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  encodeFrameSync: (objectData) => {\n    const message = window.FrameSync.create(objectData);\n    const buffer  = window.FrameSync.encode(message).finish();\n    return buffer;\n  },\n\n  decodeFrameAck: (buffer) => {\n    try {\n      const typedArray = new Uint8Array(buffer);\n      return this.frameAck.decode(typedArray);\n    } catch (e) {\n      cc.error('decode frame ack error: %o', e);\n    }\n    return null;\n  },\n});\n"]}