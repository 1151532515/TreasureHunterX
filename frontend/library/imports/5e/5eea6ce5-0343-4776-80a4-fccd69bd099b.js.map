{"version":3,"sources":["../../../../assets/scripts/assets/scripts/Treasure.js"],"names":["cc","Class","extends","Component","properties","pickedUpanimPrefab","type","Prefab","default","animNode","Node","setData","treasureInfo","self","score","imgName","spriteComponent","node","getComponent","Sprite","console","log","loader","loadRes","SpriteFrame","err","frame","warn","spriteFrame","playPickedUpAnimAndDestroy","destroy","start"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,wBAAoB;AAClBC,YAAMN,GAAGO,MADS;AAElBC,eAAS;AAFS,KADV;AAKVC,cAAU;AACRH,YAAMN,GAAGU,IADD;AAERF,eAAS;AAFD;AALA,GAHL;;AAcPG,SAdO,mBAcEC,YAdF,EAcgB;AACrB,QAAMC,OAAO,IAAb;AACA,SAAKC,KAAL,GAAaF,aAAaE,KAAb,GAAqBF,aAAaE,KAAlC,GAA0C,GAAvD;;AAEA,SAAKR,IAAL,GAAYM,aAAaN,IAAb,GAAoBM,aAAaN,IAAjC,GAAwC,CAApD;;AAEA,QAAMS,UAAU,KAAKT,IAAL,IAAa,CAAb,GAAiB,kBAAjB,GAAsC,mBAAtD;;AAEA,SAAKM,YAAL,GAAoBA,YAApB;AACA,QAAMI,kBAAkB,KAAKC,IAAL,CAAUC,YAAV,CAAuBlB,GAAGmB,MAA1B,CAAxB;AACA;AACA;AACAC,YAAQC,GAAR,CAAY,wBAAuBN,OAAnC;AACAf,OAAGsB,MAAH,CAAUC,OAAV,CAAkB,wBAAuBR,OAAzC,EAAkDf,GAAGwB,WAArD,EAAkE,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AACtF,UAAGD,GAAH,EAAO;AACLzB,WAAG2B,IAAH,CAAQF,GAAR;AACA;AACD;AACDT,sBAAgBY,WAAhB,GAA8BF,KAA9B;AACD,KAND;AAOH;AACD;AACG,GApCM;AAsCPG,4BAtCO,wCAsCsB;AAC3B;;;;;;;;;;;;AAYA,SAAKZ,IAAL,CAAUa,OAAV;AACD,GApDM;AAsDPC,OAtDO,mBAsDC,CAAE;AAtDH,CAAT","file":"Treasure.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    pickedUpanimPrefab: {\n      type: cc.Prefab,\n      default: null\n    },\n    animNode: {\n      type: cc.Node,\n      default: null\n    },\n  },\n\n  setData (treasureInfo) {\n    const self = this;\n    this.score = treasureInfo.score ? treasureInfo.score : 100 ;\n\n    this.type = treasureInfo.type ? treasureInfo.type : 1;\n\n    const imgName = this.type == 1 ? 'lowScoreTreasure' : 'highScoreTreasure';\n\n    this.treasureInfo = treasureInfo;\n    const spriteComponent = this.node.getComponent(cc.Sprite);\n    //hardcode treasurePNG's path.\n    //cc.loader.loadRes(\"textures/treasures/\"+ this.type, cc.SpriteFrame, function (err, frame) {}\n    console.log(\"textures/treasures/\"+ imgName);\n    cc.loader.loadRes(\"textures/treasures/\"+ imgName, cc.SpriteFrame, function (err, frame) {\n      if(err){\n        cc.warn(err);\n        return;\n      }\n      spriteComponent.spriteFrame = frame; \n    })\n //   const binglingAnimComp = this.animNode.getComponent(cc.Animation);\n//    binglingAnimComp.play(this.type);\n  },\n\n  playPickedUpAnimAndDestroy() {\n    /*\n    const self = this;\n    const parentNode = self.node.parent;\n    if (!parentNode) return;\n    if (!self.pickedUpanimPrefab) return;\n    const animNode = cc.instantiate(self.pickedUpanimPrefab); \n    const animScriptIns = animNode.getComponent(\"TreasurePickedUpAnim\");\n    animScriptIns.setData(this.treasureInfo);\n    animNode.setPosition(self.node.position);  \n    safelyAddChild(parentNode, animNode);\n    setLocalZOrder(animNode, 999);\n    */\n    this.node.destroy();\n  },\n\n  start() {},\n})\n"]}