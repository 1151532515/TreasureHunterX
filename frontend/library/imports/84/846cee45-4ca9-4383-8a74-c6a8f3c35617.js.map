{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\PlayersInfo.js"],"names":["cc","Class","extends","Component","properties","listNode","type","Node","default","updateData","playerInfo","joinIndex","playerNode","getChildByName","playerNameLabelNode","isEmptyString","str","nameToDisplay","displayName","name","getComponent","Label","string","score","playerScoreLabelNode","onLoad","clearInfo","i"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,cAAU;AACRC,YAAMN,GAAGO,IADD;AAERC,eAAS;AAFD;AADA,GAHL;;AAUP;AACAC,YAXO,sBAWIC,UAXJ,EAWgB;AACrB,QAAMC,YAAYD,WAAWC,SAA7B;AACA,QAAMC,aAAa,KAAKP,QAAL,CAAcQ,cAAd,CAA6B,WAAWF,SAAxC,CAAnB;AACA,QAAI,CAACC,UAAL,EAAiB;AACf;AACD;AACD,QAAME,sBAAsBF,WAAWC,cAAX,CAA0B,MAA1B,CAA5B;;AAEA,aAASE,aAAT,CAAuBC,GAAvB,EAA4B;AAC1B,aAAOA,OAAO,IAAP,IAAeA,OAAO,EAA7B;AACD;;AAED,QAAMC,gBAAiB,YAAM;AAC3B,UAAI,CAACF,cAAcL,WAAWQ,WAAzB,CAAL,EAA4C;AAC1C,eAAOR,WAAWQ,WAAlB;AACD,OAFD,MAEO,IAAI,CAACH,cAAcL,WAAWS,IAAzB,CAAL,EAAqC;AAC1C,eAAOT,WAAWS,IAAlB;AACD,OAFM,MAEA;AACL,eAAO,SAAP;AACD;AACF,KARqB,EAAtB;;AAUAL,wBAAoBM,YAApB,CAAiCpB,GAAGqB,KAApC,EAA2CC,MAA3C,GAAoDL,aAApD;;AAEA,QAAMM,QAASb,WAAWa,KAAX,GAAmBb,WAAWa,KAA9B,GAAsC,CAArD;AACA,QAAMC,uBAAuBZ,WAAWC,cAAX,CAA0B,OAA1B,CAA7B;AACAW,yBAAqBJ,YAArB,CAAkCpB,GAAGqB,KAArC,EAA4CC,MAA5C,GAAqDC,KAArD;AACD,GAtCM;AAuCPE,QAvCO,oBAuCE,CAAE,CAvCJ;AAyCPC,WAzCO,uBAyCK;AACV,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAC1B,UAAMf,aAAa,KAAKP,QAAL,CAAcQ,cAAd,CAA6B,WAAWc,CAAxC,CAAnB;AACA,UAAMH,uBAAuBZ,WAAWC,cAAX,CAA0B,OAA1B,CAA7B;AACA,UAAMC,sBAAsBF,WAAWC,cAAX,CAA0B,MAA1B,CAA5B;AACAW,2BAAqBJ,YAArB,CAAkCpB,GAAGqB,KAArC,EAA4CC,MAA5C,GAAqD,EAArD;AACAR,0BAAoBM,YAApB,CAAiCpB,GAAGqB,KAApC,EAA2CC,MAA3C,GAAoD,EAApD;AACD;AACF;AAjDM,CAAT","file":"PlayersInfo.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {\r\n    listNode: {\r\n      type: cc.Node,\r\n      default: null,\r\n    }\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n  updateData(playerInfo) {\r\n    const joinIndex = playerInfo.joinIndex;\r\n    const playerNode = this.listNode.getChildByName(\"player\" + joinIndex);\r\n    if (!playerNode) {\r\n      return;\r\n    }\r\n    const playerNameLabelNode = playerNode.getChildByName(\"name\");\r\n\r\n    function isEmptyString(str) {\r\n      return str == null || str == ''\r\n    }\r\n\r\n    const nameToDisplay = (() => {\r\n      if (!isEmptyString(playerInfo.displayName)) {\r\n        return playerInfo.displayName;\r\n      } else if (!isEmptyString(playerInfo.name)) {\r\n        return playerInfo.name;\r\n      } else {\r\n        return \"No name\"\r\n      }\r\n    })();\r\n\r\n    playerNameLabelNode.getComponent(cc.Label).string = nameToDisplay;\r\n\r\n    const score = (playerInfo.score ? playerInfo.score : 0);\r\n    const playerScoreLabelNode = playerNode.getChildByName(\"score\");\r\n    playerScoreLabelNode.getComponent(cc.Label).string = score;\r\n  },\r\n  onLoad() {},\r\n\r\n  clearInfo() {\r\n    for (let i = 1; i < 3; i++) {\r\n      const playerNode = this.listNode.getChildByName('player' + i);\r\n      const playerScoreLabelNode = playerNode.getChildByName(\"score\");\r\n      const playerNameLabelNode = playerNode.getChildByName(\"name\");\r\n      playerScoreLabelNode.getComponent(cc.Label).string = '';\r\n      playerNameLabelNode.getComponent(cc.Label).string = '';\r\n    }\r\n  },\r\n\r\n});\r\n"]}