{"version":3,"sources":["../../../../assets/scripts/assets/scripts/CameraTracker.js"],"names":["cc","Class","extends","Component","properties","mapNode","type","Node","default","start","update","dt","self","canvasNode","node","mapScriptIns","getComponent","selfPlayerNode","selfPlayerPosDiffInMapNode","position","canvasNodeScale","getScale","targetPos","mul","x","y","setPosition"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ;AADD,KAHP;;AAUL;;AAEAC,SAZK,mBAYG,CAAE,CAZL;AAcLC,UAdK,kBAcEC,EAdF,EAcM;AACT,YAAMC,OAAO,IAAb;AACA,YAAMC,aAAaD,KAAKE,IAAxB;AACA,YAAMT,UAAUO,KAAKP,OAArB;;AAEA,YAAMU,eAAeH,KAAKP,OAAL,CAAaW,YAAb,CAA0B,KAA1B,CAArB;AACA,YAAMC,iBAAiBF,aAAaE,cAApC;AACA,YAAI,QAAQA,cAAZ,EAA4B;;AAE5B,YAAMC,6BAA6BD,eAAeE,QAAlD;AACA,YAAMC,kBAAkBP,WAAWQ,QAAX,EAAxB;AACA,YAAMC,YAAYJ,2BAA2BK,GAA3B,CAA+B,CAAC,CAAhC,CAAlB;AACA,YAAID,UAAUE,CAAV,IAAenB,QAAQc,QAAR,CAAiBK,CAAhC,IAAqCF,UAAUG,CAAV,IAAepB,QAAQc,QAAR,CAAiBM,CAAzE,EAA4E;AAC5EpB,gBAAQqB,WAAR,CAAoBJ,SAApB;AACD;AA5BI,CAAT","file":"CameraTracker.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        mapNode: {\n            type: cc.Node,\n            default: null\n        }\n    },\n\n    // onLoad () {},\n\n    start() {},\n\n    update(dt) {\n      const self = this;\n      const canvasNode = self.node;\n      const mapNode = self.mapNode;\n\n      const mapScriptIns = self.mapNode.getComponent(\"Map\");\n      const selfPlayerNode = mapScriptIns.selfPlayerNode;\n      if (null == selfPlayerNode) return;\n\n      const selfPlayerPosDiffInMapNode = selfPlayerNode.position;\n      const canvasNodeScale = canvasNode.getScale();\n      const targetPos = selfPlayerPosDiffInMapNode.mul(-1);  \n      if (targetPos.x == mapNode.position.x && targetPos.y == mapNode.position.y) return;\n      mapNode.setPosition(targetPos);\n    }\n});\n\n"]}