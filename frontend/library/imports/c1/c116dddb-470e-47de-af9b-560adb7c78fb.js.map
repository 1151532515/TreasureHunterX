{"version":3,"sources":["..\\..\\..\\..\\assets\\plugin_scripts/assets\\plugin_scripts\\NetworkUtils.js"],"names":["_typeof6","obj","Symbol","iterator","constructor","prototype","_typeof5","_typeof4","_typeof3","_typeof2","_typeof","NetworkUtils","window","ArrayProto","Array","ObjProto","Object","hasOwn","hasOwnProperty","toString","nativeForEach","forEach","slice","nativeKeys","keys","nativeIsArray","isArray","isFunction","o","isObject","type","call","isString","isNotEmptyString","s","each","fn","ctx","length","i","l","key","numFormat","num","Math","floor","numberFmt","test","a","RegExp","$1","b","$2","c","$3","re","compile","replace","fmtNumber","str","parseInt","defaults","arguments","k","push","values","noop","cutstr","len","temp","icount","patrn","strre","substr","exec","clamp","n","min","max","Progress","settings","minimum","trickle","trickleRate","trickleSpeed","status","set","progress","cb","inc","amount","start","random","_timer","timer","clearTimeout","work","setTimeout","done","decode","decodeURIComponent","encode","encodeURIComponent","formData","kvps","regEx","join","ajax","xhr","cc","loader","getXMLHttpRequest","assign","data","dataType","contentType","onreadystatechange","readyState","res","responseText","JSON","parse","eval","success","error","statusText","url","isPost","open","setRequestHeader","timeout","ontimeout","onerror","send","get","post","now","Date","getTime","same","parseCookieString","text","cookies","cookieParts","split","cookieName","cookieValue","cookieNameValue","match","substring","ex","getCookie","name","TypeError","document","cookie","setCookie","value","options","expires","domain","path","String","date","setDate","getDate","toUTCString","removeCookie","dragNode","node","isMoving","size","director","getVisibleSize","touchLoc","oldPos","moveToPos","on","Node","EventType","TOUCH_START","event","touches","getTouches","getLocation","position","TOUCH_MOVE","TOUCH_END","x","xEdge","width","anchorX","abs","height","y","yEdge","getQueryVariable","query","sys","platform","WECHAT_GAME","location","search","vars","pair"],"mappings":";;;;AAAA;;;;AAEA,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AACrB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOC,QAAd,MAA2B,QAA/D,EAAyE;AACvEH,eAAW,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AAChC,oBAAcA,GAAd,0CAAcA,GAAd;AACD,KAFD;AAGD,GAJD,MAIO;AACLD,eAAW,SAASA,QAAT,CAAkBC,GAAlB,EAAuB;AAChC,aAAOA,OAAO,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,IAAIG,WAAJ,KAAoBF,MAA3D,IAAqED,QAAQC,OAAOG,SAApF,GAAgG,QAAhG,UAAkHJ,GAAlH,0CAAkHA,GAAlH,CAAP;AACD,KAFD;AAGD;AACD,SAAOD,SAASC,GAAT,CAAP;AACD;;AAED,SAASK,QAAT,CAAkBL,GAAlB,EAAuB;AACrB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCF,SAASE,OAAOC,QAAhB,MAA8B,QAAlE,EAA4E;AAC1EG,eAAW,SAASA,QAAT,CAAkBL,GAAlB,EAAuB;AAChC,aAAOD,SAASC,GAAT,CAAP;AACD,KAFD;AAGD,GAJD,MAIO;AACLK,eAAW,SAASA,QAAT,CAAkBL,GAAlB,EAAuB;AAChC,aAAOA,OAAO,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,IAAIG,WAAJ,KAAoBF,MAA3D,IAAqED,QAAQC,OAAOG,SAApF,GAAgG,QAAhG,GAA2GL,SAASC,GAAT,CAAlH;AACD,KAFD;AAGD;;AAED,SAAOK,SAASL,GAAT,CAAP;AACD;;AAED,SAASM,QAAT,CAAkBN,GAAlB,EAAuB;AACrB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCI,SAASJ,OAAOC,QAAhB,MAA8B,QAAlE,EAA4E;AAC1EI,eAAW,SAASA,QAAT,CAAkBN,GAAlB,EAAuB;AAChC,aAAOK,SAASL,GAAT,CAAP;AACD,KAFD;AAGD,GAJD,MAIO;AACLM,eAAW,SAASA,QAAT,CAAkBN,GAAlB,EAAuB;AAChC,aAAOA,OAAO,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,IAAIG,WAAJ,KAAoBF,MAA3D,IAAqED,QAAQC,OAAOG,SAApF,GAAgG,QAAhG,GAA2GC,SAASL,GAAT,CAAlH;AACD,KAFD;AAGD;;AAED,SAAOM,SAASN,GAAT,CAAP;AACD;;AAED,SAASO,QAAT,CAAkBP,GAAlB,EAAuB;AACrB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCK,SAASL,OAAOC,QAAhB,MAA8B,QAAlE,EAA4E;AAC1EK,eAAW,SAASA,QAAT,CAAkBP,GAAlB,EAAuB;AAChC,aAAOM,SAASN,GAAT,CAAP;AACD,KAFD;AAGD,GAJD,MAIO;AACLO,eAAW,SAASA,QAAT,CAAkBP,GAAlB,EAAuB;AAChC,aAAOA,OAAO,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,IAAIG,WAAJ,KAAoBF,MAA3D,IAAqED,QAAQC,OAAOG,SAApF,GAAgG,QAAhG,GAA2GE,SAASN,GAAT,CAAlH;AACD,KAFD;AAGD;;AAED,SAAOO,SAASP,GAAT,CAAP;AACD;;AAED,SAASQ,QAAT,CAAkBR,GAAlB,EAAuB;AACrB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCM,SAASN,OAAOC,QAAhB,MAA8B,QAAlE,EAA4E;AAC1EM,eAAW,SAASA,QAAT,CAAkBR,GAAlB,EAAuB;AAChC,aAAOO,SAASP,GAAT,CAAP;AACD,KAFD;AAGD,GAJD,MAIO;AACLQ,eAAW,SAASA,QAAT,CAAkBR,GAAlB,EAAuB;AAChC,aAAOA,OAAO,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,IAAIG,WAAJ,KAAoBF,MAA3D,IAAqED,QAAQC,OAAOG,SAApF,GAAgG,QAAhG,GAA2GG,SAASP,GAAT,CAAlH;AACD,KAFD;AAGD;;AAED,SAAOQ,SAASR,GAAT,CAAP;AACD;;AAED,SAASS,OAAT,CAAiBT,GAAjB,EAAsB;AACpB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCO,SAASP,OAAOC,QAAhB,MAA8B,QAAlE,EAA4E;AAC1EO,cAAU,SAASA,OAAT,CAAiBT,GAAjB,EAAsB;AAC9B,aAAOQ,SAASR,GAAT,CAAP;AACD,KAFD;AAGD,GAJD,MAIO;AACLS,cAAU,SAASA,OAAT,CAAiBT,GAAjB,EAAsB;AAC9B,aAAOA,OAAO,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,IAAIG,WAAJ,KAAoBF,MAA3D,IAAqED,QAAQC,OAAOG,SAApF,GAAgG,QAAhG,GAA2GI,SAASR,GAAT,CAAlH;AACD,KAFD;AAGD;;AAED,SAAOS,QAAQT,GAAR,CAAP;AACD;;AAED,IAAIU,eAAeA,gBAAgB,EAAnC;AACAC,OAAOD,YAAP,GAAsBA,YAAtB;AACAA,aAAaE,UAAb,GAA0BC,MAAMT,SAAhC;AACAM,aAAaI,QAAb,GAAwBC,OAAOX,SAA/B;AACAM,aAAaM,MAAb,GAAsBN,aAAaI,QAAb,CAAsBG,cAA5C;AACAP,aAAaQ,QAAb,GAAwBR,aAAaI,QAAb,CAAsBI,QAA9C;AACAR,aAAaS,aAAb,GAA6BT,aAAaE,UAAb,CAAwBQ,OAArD;AACAV,aAAaW,KAAb,GAAqBX,aAAaE,UAAb,CAAwBS,KAA7C;AACAX,aAAaY,UAAb,GAA0BP,OAAOQ,IAAjC;AACAb,aAAac,aAAb,GAA6BX,MAAMY,OAAnC;;AAEAf,aAAagB,UAAb,GAA0B,UAASC,CAAT,EAAY;AACpC,SAAO,OAAOA,CAAP,IAAY,UAAZ,IAA0B,KAAjC;AACD,CAFD;;AAIAjB,aAAakB,QAAb,GAAwB,UAASD,CAAT,EAAY;AAClC,MAAIE,OAAO,OAAOF,CAAP,KAAa,WAAb,GAA2B,WAA3B,GAAyClB,QAAQkB,CAAR,CAApD;AACA,SAAOE,SAAS,UAAT,IAAuBA,SAAS,QAAT,IAAqB,CAAC,CAACF,CAArD;AACD,CAHD;;AAKAjB,aAAae,OAAb,GAAuBf,aAAac,aAAb,IAA8B,UAASxB,GAAT,EAAc;AACjE,SAAOU,aAAaQ,QAAb,CAAsBY,IAAtB,CAA2B9B,GAA3B,MAAoC,gBAA3C;AACD,CAFD;;AAIAU,aAAaqB,QAAb,GAAwB,UAASJ,CAAT,EAAY;AAClC,SAAO,OAAOA,CAAP,KAAa,QAApB;AACD,CAFD;;AAIAjB,aAAasB,gBAAb,GAAgC,UAASC,CAAT,EAAY;AAC1C,SAAOvB,aAAaqB,QAAb,CAAsBE,CAAtB,KAA4BA,MAAM,EAAzC;AACD,CAFD;;AAIAvB,aAAawB,IAAb,GAAoB,UAASP,CAAT,EAAYQ,EAAZ,EAAgBC,GAAhB,EAAqB;AACvC,MAAIT,KAAK,IAAT,EAAe;;AAEf,MAAIjB,aAAaS,aAAb,IAA8BQ,EAAEP,OAAF,KAAcV,aAAaS,aAA7D,EAA4E;AAC1EQ,MAAEP,OAAF,CAAUe,EAAV,EAAcC,GAAd;AACD,GAFD,MAEO,IAAIT,EAAEU,MAAF,KAAa,CAACV,EAAEU,MAApB,EAA4B;AACjC,SAAK,IAAIC,IAAI,CAAR,EAAWC,IAAIZ,EAAEU,MAAtB,EAA8BC,IAAIC,CAAlC,EAAqCD,GAArC,EAA0C;AACxC,UAAIA,KAAKX,CAAL,IAAUQ,GAAGL,IAAH,CAAQM,GAAR,EAAaT,EAAEW,CAAF,CAAb,EAAmBA,CAAnB,EAAsBX,CAAtB,MAA6B,EAA3C,EAA+C;AAChD;AACF,GAJM,MAIA;AACL,SAAK,IAAIa,GAAT,IAAgBb,CAAhB,EAAmB;AACjB,UAAIjB,aAAaM,MAAb,CAAoBc,IAApB,CAAyBH,CAAzB,EAA4Ba,GAA5B,CAAJ,EAAsC;AACpC,YAAIL,GAAGL,IAAH,CAAQM,GAAR,EAAaT,EAAEa,GAAF,CAAb,EAAqBA,GAArB,EAA0Bb,CAA1B,MAAiC,EAArC,EAAyC;AAC1C;AACF;AACF;AACF,CAhBD;;AAkBAjB,aAAa+B,SAAb,GAAyB,UAASC,GAAT,EAAc;AACrC,MAAIA,MAAM,IAAV,EAAgB;AACd,WAAOC,KAAKC,KAAL,CAAWF,MAAM,IAAjB,EAAuBxB,QAAvB,KAAoC,GAA3C;AACD,GAFD,MAEO;AACL,WAAOwB,IAAIxB,QAAJ,EAAP;AACD;AACF,CAND,EAMG;;;AAGHR,aAAamC,SAAb,GAAyB,UAASH,GAAT,EAAc;AACrC,MAAI,CAAC,yBAAyBI,IAAzB,CAA8BJ,GAA9B,CAAL,EAAyC;AACvC,WAAOA,GAAP;AACD;;AAED,MAAIK,IAAIC,OAAOC,EAAf;AAAA,MACEC,IAAIF,OAAOG,EADb;AAAA,MAEEC,IAAIJ,OAAOK,EAFb;AAAA,MAGEC,KAAK,IAAIN,MAAJ,EAHP;AAIAM,KAAGC,OAAH,CAAW,oBAAX;;AAEA,SAAOD,GAAGR,IAAH,CAAQI,CAAR,CAAP,EAAmB;AACjBA,QAAIA,EAAEM,OAAF,CAAUF,EAAV,EAAc,SAAd,CAAJ;AACD;;AAED,SAAOP,IAAI,EAAJ,GAASG,CAAT,GAAa,EAAb,GAAkBE,CAAzB;AACD,CAhBD,EAgBG;;;AAGH1C,aAAa+C,SAAb,GAAyB,UAASC,GAAT,EAAc;AACrC,MAAI,CAAChD,aAAasB,gBAAb,CAA8B0B,GAA9B,CAAL,EAAyC,OAAO,CAAP;AACzC,SAAOC,SAASD,IAAIF,OAAJ,CAAY,IAAZ,EAAkB,EAAlB,CAAT,EAAgC,EAAhC,CAAP;AACD,CAHD;;AAKA9C,aAAakD,QAAb,GAAwB,UAAS5D,GAAT,EAAc;AACpCU,eAAawB,IAAb,CAAkBxB,aAAaW,KAAb,CAAmBS,IAAnB,CAAwB+B,SAAxB,EAAmC,CAAnC,CAAlB,EAAyD,UAASlC,CAAT,EAAY;AACnE,SAAK,IAAImC,CAAT,IAAcnC,CAAd,EAAiB;AACf,UAAI3B,IAAI8D,CAAJ,KAAU,IAAd,EACE9D,IAAI8D,CAAJ,IAASnC,EAAEmC,CAAF,CAAT;AACH;AACF,GALD;AAMA,SAAO9D,GAAP;AACD,CARD;;AAUAU,aAAaa,IAAb,GAAoB,UAASvB,GAAT,EAAc;AAChC,MAAI,CAACU,aAAakB,QAAb,CAAsB5B,GAAtB,CAAL,EAAiC,OAAO,EAAP;AACjC,MAAIU,aAAaY,UAAjB,EAA6B,OAAOZ,aAAaY,UAAb,CAAwBtB,GAAxB,CAAP;AAC7B,MAAIuB,OAAO,EAAX;;AAEA,OAAK,IAAIiB,GAAT,IAAgBxC,GAAhB,EAAqB;AACnB,QAAIU,aAAaM,MAAb,CAAoBc,IAApB,CAAyB9B,GAAzB,EAA8BwC,GAA9B,CAAJ,EAAwCjB,KAAKwC,IAAL,CAAUvB,GAAV;AACzC;;AAED,SAAOjB,IAAP;AACD,CAVD;;AAYAb,aAAasD,MAAb,GAAsB,UAAShE,GAAT,EAAc;AAClC,MAAIuB,OAAOb,aAAaa,IAAb,CAAkBvB,GAAlB,CAAX;AACA,MAAIqC,SAASd,KAAKc,MAAlB;AACA,MAAI2B,SAASnD,MAAMwB,MAAN,CAAb;;AAEA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,MAApB,EAA4BC,GAA5B,EAAiC;AAC/B0B,WAAO1B,CAAP,IAAYtC,IAAIuB,KAAKe,CAAL,CAAJ,CAAZ;AACD;;AAED,SAAO0B,MAAP;AACD,CAVD;;AAYAtD,aAAauD,IAAb,GAAoB,YAAW,CAAE,CAAjC;;AAEAvD,aAAawD,MAAb,GAAsB,UAASR,GAAT,EAAcS,GAAd,EAAmB;AACvC,MAAIC,IAAJ;AAAA,MACEC,SAAS,CADX;AAAA,MAEEC,QAAQ,cAFV;AAAA,MAGEC,QAAQ,EAHV;;AAKA,OAAK,IAAIjC,IAAI,CAAb,EAAgBA,IAAIoB,IAAIrB,MAAxB,EAAgCC,GAAhC,EAAqC;AACnC,QAAI+B,SAASF,MAAM,CAAnB,EAAsB;AACpBC,aAAOV,IAAIc,MAAJ,CAAWlC,CAAX,EAAc,CAAd,CAAP;;AAEA,UAAIgC,MAAMG,IAAN,CAAWL,IAAX,KAAoB,IAAxB,EAA8B;AAC5BC,iBAASA,SAAS,CAAlB;AACD,OAFD,MAEO;AACLA,iBAASA,SAAS,CAAlB;AACD;;AAEDE,eAASH,IAAT;AACD,KAVD,MAUO;AACL;AACD;AACF;;AAED,MAAIV,OAAOa,KAAX,EAAkB;AAChB,WAAOA,KAAP;AACD,GAFD,MAEO;AACL,WAAOA,QAAQ,KAAf;AACD;AACF,CA3BD;;AA6BA7D,aAAagE,KAAb,GAAqB,UAASC,CAAT,EAAYC,GAAZ,EAAiBC,GAAjB,EAAsB;AACzC,MAAIF,IAAIC,GAAR,EAAa,OAAOA,GAAP;AACb,MAAID,IAAIE,GAAR,EAAa,OAAOA,GAAP;AACb,SAAOF,CAAP;AACD,CAJD;;AAMAjE,aAAaoE,QAAb,GAAwB,EAAxB;AACApE,aAAaoE,QAAb,CAAsBC,QAAtB,GAAiC;AAC/BC,WAAS,GADsB;AAE/BC,WAAS,IAFsB;AAG/BC,eAAa,GAHkB;AAI/BC,gBAAc;AAJiB,CAAjC;AAMAzE,aAAaoE,QAAb,CAAsBM,MAAtB,GAA+B,IAA/B;;AAEA1E,aAAaoE,QAAb,CAAsBO,GAAtB,GAA4B,UAASV,CAAT,EAAY;AACtC,MAAIW,WAAW5E,aAAaoE,QAA5B;AACAH,MAAIjE,aAAagE,KAAb,CAAmBC,CAAnB,EAAsBW,SAASP,QAAT,CAAkBC,OAAxC,EAAiD,CAAjD,CAAJ;AACAM,WAASF,MAAT,GAAkBT,CAAlB;AACAW,WAASC,EAAT,CAAYD,SAASF,MAArB;AACA,SAAO,IAAP;AACD,CAND;;AAQA1E,aAAaoE,QAAb,CAAsBU,GAAtB,GAA4B,UAASC,MAAT,EAAiB;AAC3C,MAAIH,WAAW5E,aAAaoE,QAA5B;AAAA,MACEH,IAAIW,SAASF,MADf;;AAGA,MAAI,CAACT,CAAL,EAAQ;AACN,WAAOW,SAASI,KAAT,EAAP;AACD,GAFD,MAEO;AACLD,aAAS,CAAC,IAAId,CAAL,IAAUjE,aAAagE,KAAb,CAAmB/B,KAAKgD,MAAL,KAAgBhB,CAAnC,EAAsC,GAAtC,EAA2C,IAA3C,CAAnB;AACAA,QAAIjE,aAAagE,KAAb,CAAmBC,IAAIc,MAAvB,EAA+B,CAA/B,EAAkC,KAAlC,CAAJ;AACA,WAAOH,SAASD,GAAT,CAAaV,CAAb,CAAP;AACD;AACF,CAXD;;AAaAjE,aAAaoE,QAAb,CAAsBG,OAAtB,GAAgC,YAAW;AACzC,MAAIK,WAAW5E,aAAaoE,QAA5B;AACA,SAAOQ,SAASE,GAAT,CAAa7C,KAAKgD,MAAL,KAAgBL,SAASP,QAAT,CAAkBG,WAA/C,CAAP;AACD,CAHD;;AAKAxE,aAAaoE,QAAb,CAAsBY,KAAtB,GAA8B,UAASH,EAAT,EAAa;AACzC,MAAID,WAAW5E,aAAaoE,QAA5B;AACAQ,WAASC,EAAT,GAAcA,MAAM7E,aAAauD,IAAjC;AACA,MAAI,CAACqB,SAASF,MAAd,EAAsBE,SAASD,GAAT,CAAa,CAAb;;AAEtB,MAAIO,SAAS,SAASC,KAAT,GAAiB;AAC5B,QAAIP,SAASF,MAAT,KAAoB,CAAxB,EAA2B;AACzBU,mBAAaF,MAAb;AACAA,eAAS,IAAT;AACA;AACD;;AAEDN,aAASL,OAAT;AACAc;AACD,GATD;;AAWA,MAAIA,OAAO,SAASA,IAAT,GAAgB;AACzBC,eAAWJ,MAAX,EAAmBN,SAASP,QAAT,CAAkBI,YAArC;AACD,GAFD;;AAIA,MAAIG,SAASP,QAAT,CAAkBE,OAAtB,EAA+Bc;AAC/B,SAAO,IAAP;AACD,CAtBD;;AAwBArF,aAAaoE,QAAb,CAAsBmB,IAAtB,GAA6B,YAAW;AACtC,MAAIX,WAAW5E,aAAaoE,QAA5B;AACA,SAAOQ,SAASE,GAAT,CAAa,MAAM,MAAM7C,KAAKgD,MAAL,EAAzB,EAAwCN,GAAxC,CAA4C,CAA5C,CAAP;AACD,CAHD;;AAKA3E,aAAawF,MAAb,GAAsBC,kBAAtB;AACAzF,aAAa0F,MAAb,GAAsBC,kBAAtB;;AAEA3F,aAAa4F,QAAb,GAAwB,UAAS3E,CAAT,EAAY;AAClC,MAAI4E,OAAO,EAAX;AAAA,MACEC,QAAQ,MADV;;AAGA,OAAK,IAAI1C,CAAT,IAAcnC,CAAd,EAAiB;AACf,QAAI,CAACA,EAAEmC,CAAF,CAAL,EAAW;AACXyC,SAAKxC,IAAL,CAAUrD,aAAa0F,MAAb,CAAoBtC,CAApB,EAAuBN,OAAvB,CAA+BgD,KAA/B,EAAsC,GAAtC,IAA6C,GAA7C,GAAmD9F,aAAa0F,MAAb,CAAoBzE,EAAEmC,CAAF,EAAK5C,QAAL,EAApB,EAAqCsC,OAArC,CAA6CgD,KAA7C,EAAoD,GAApD,CAA7D;AACD;;AAED,SAAOD,KAAKE,IAAL,CAAU,GAAV,CAAP;AACD,CAVD;;AAYA/F,aAAagG,IAAb,GAAoB,UAAS/E,CAAT,EAAY;AAC9B,MAAIgF,MAAMC,GAAGC,MAAH,CAAUC,iBAAV,EAAV;AACAnF,MAAIZ,OAAOgG,MAAP,CAAc;AAChBlF,UAAM,KADU;AAEhBmF,UAAM,IAFU;AAGhBC,cAAU,MAHM;AAIhB3B,cAAU,IAJM;AAKhB4B,iBAAa;AALG,GAAd,EAMDvF,CANC,CAAJ;AAOA,MAAIA,EAAE2D,QAAN,EAAgB5E,aAAaoE,QAAb,CAAsBY,KAAtB,CAA4B/D,EAAE2D,QAA9B;;AAEhBqB,MAAIQ,kBAAJ,GAAyB,YAAW;AAClC,QAAIR,IAAIS,UAAJ,IAAkB,CAAtB,EAAyB;AACvB,UAAIT,IAAIvB,MAAJ,GAAa,GAAjB,EAAsB;AACpB,YAAIiC,GAAJ;;AAEA,YAAI1F,EAAEsF,QAAF,IAAc,MAAlB,EAA0B;AACxB,cAAIN,IAAIW,YAAR,EAAsB;AACpBD,kBAAM1G,OAAO4G,IAAP,GAAc5G,OAAO4G,IAAP,CAAYC,KAAZ,CAAkBb,IAAIW,YAAtB,CAAd,GAAoDG,KAAKd,IAAIW,YAAT,CAA1D;AACD;AACF,SAJD,MAIO;AACLD,gBAAMV,IAAIW,YAAV;AACD;;AAED,YAAI,CAAC,CAACD,GAAN,EAAW1F,EAAE+F,OAAF,CAAUL,GAAV;AACX,YAAI1F,EAAE2D,QAAN,EAAgB5E,aAAaoE,QAAb,CAAsBmB,IAAtB;AACjB,OAbD,MAaO;AACL,YAAItE,EAAEgG,KAAN,EAAahG,EAAEgG,KAAF,CAAQhB,GAAR,EAAaA,IAAIvB,MAAjB,EAAyBuB,IAAIiB,UAA7B;AACd;AACF;AACF,GAnBD,CAX8B,CA8B3B;;;AAGH,MAAIC,MAAMlG,EAAEkG,GAAZ;AAAA,MACEb,OAAO,IADT;AAEA,MAAIc,SAASnG,EAAEE,IAAF,KAAW,MAAX,IAAqBF,EAAEE,IAAF,KAAW,KAA7C;;AAEA,MAAIF,EAAEqF,IAAN,EAAY;AACV,QAAI,CAACc,MAAL,EAAa;AACXD,aAAO,MAAMnH,aAAa4F,QAAb,CAAsB3E,EAAEqF,IAAxB,CAAb;AACAA,aAAO,IAAP;AACD,KAHD,MAGO,IAAIc,UAAUrH,QAAQkB,EAAEqF,IAAV,MAAoB,QAAlC,EAA4C;AACjDA,aAAOtG,aAAa4F,QAAb,CAAsB3E,EAAEqF,IAAxB,CAAP;AACD,KAFM,MAEA;AACLA,aAAOrF,EAAEqF,IAAT;AACD;AACF;;AAEDL,MAAIoB,IAAJ,CAASpG,EAAEE,IAAX,EAAiBgG,GAAjB,EAAsB,IAAtB;;AAEA,MAAIC,MAAJ,EAAY;AACVnB,QAAIqB,gBAAJ,CAAqB,cAArB,EAAqCrG,EAAEuF,WAAvC;AACD;;AAEDP,MAAIsB,OAAJ,GAAc,IAAd;;AAEAtB,MAAIuB,SAAJ,GAAgB,YAAW;AACzB;AACA,QAAI,eAAe,OAAOvG,EAAEsG,OAA5B,EAAqC;AACnCtG,QAAEsG,OAAF;AACD;AACF,GALD;AAMAtB,MAAIwB,OAAJ,GAAe,YAAW;AACxB,QAAI,eAAe,OAAOxG,EAAEgG,KAA5B,EAAmC;AACjChG,QAAEgG,KAAF;AACD;AAEF,GALD;AAMAhB,MAAIyB,IAAJ,CAASpB,IAAT;AACA,SAAOL,GAAP;AACD,CAtED;;AAwEAjG,aAAa2H,GAAb,GAAmB,UAASR,GAAT,EAAcb,IAAd,EAAoBU,OAApB,EAA6BC,KAA7B,EAAoC;AACrD,MAAIjH,aAAagB,UAAb,CAAwBsF,IAAxB,CAAJ,EAAmC;AACjCW,YAAQD,OAAR;AACAA,cAAUV,IAAV;AACAA,WAAO,EAAP;AACD;;AAEDtG,eAAagG,IAAb,CAAkB;AAChBmB,SAAKA,GADW;AAEhBhG,UAAM,KAFU;AAGhBmF,UAAMA,IAHU;AAIhBU,aAASA,OAJO;AAKhBC,WAAOA,SAASjH,aAAauD;AALb,GAAlB;AAOD,CAdD;;AAgBAvD,aAAa4H,IAAb,GAAoB,UAAST,GAAT,EAAcb,IAAd,EAAoBU,OAApB,EAA6BC,KAA7B,EAAoCM,OAApC,EAA6C;AAC/D,MAAIvH,aAAagB,UAAb,CAAwBsF,IAAxB,CAAJ,EAAmC;AACjCW,YAAQD,OAAR;AACAA,cAAUV,IAAV;AACAA,WAAO,EAAP;AACD;;AAEDtG,eAAagG,IAAb,CAAkB;AAChBmB,SAAKA,GADW;AAEhBhG,UAAM,MAFU;AAGhBmF,UAAMA,IAHU;AAIhBU,aAASA,OAJO;AAKhBC,WAAOA,SAASjH,aAAauD,IALb;AAMhBgE,aAASA;AANO,GAAlB;AAQD,CAfD;;AAiBAvH,aAAa6H,GAAb,GAAmBC,KAAKD,GAAL,IAAY,YAAW;AACxC,SAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAP;AACD,CAFD;;AAIA/H,aAAagI,IAAb,GAAoB,UAASzG,CAAT,EAAY;AAC9B,SAAOA,CAAP;AACD,CAFD;;AAIAvB,aAAaiI,iBAAb,GAAiC,UAASC,IAAT,EAAe;AAC9C,MAAIC,UAAU,EAAd;;AAEA,MAAInI,aAAaqB,QAAb,CAAsB6G,IAAtB,KAA+BA,KAAKvG,MAAL,GAAc,CAAjD,EAAoD;AAClD,QAAIyG,cAAcF,KAAKG,KAAL,CAAW,MAAX,CAAlB;AACA,QAAIC,UAAJ;AACA,QAAIC,WAAJ;AACA,QAAIC,eAAJ;;AAEA,SAAK,IAAI5G,IAAI,CAAR,EAAW6B,MAAM2E,YAAYzG,MAAlC,EAA0CC,IAAI6B,GAA9C,EAAmD7B,GAAnD,EAAwD;AACtD;AACA4G,wBAAkBJ,YAAYxG,CAAZ,EAAe6G,KAAf,CAAqB,WAArB,CAAlB;;AAEA,UAAID,2BAA2BrI,KAA/B,EAAsC;AACpC,YAAI;AACFmI,uBAAatI,aAAawF,MAAb,CAAoBgD,gBAAgB,CAAhB,CAApB,CAAb;AACAD,wBAAcH,YAAYxG,CAAZ,EAAe8G,SAAf,CAAyBF,gBAAgB,CAAhB,EAAmB7G,MAAnB,GAA4B,CAArD,CAAd;AACD,SAHD,CAGE,OAAOgH,EAAP,EAAW,CAAE;AACb;AACD;AACF,OAPD,MAOO;AACL;AACA;AACAL,qBAAatI,aAAawF,MAAb,CAAoB4C,YAAYxG,CAAZ,CAApB,CAAb;AACA2G,sBAAc,EAAd;AACD;;AAED,UAAID,UAAJ,EAAgB;AACdH,gBAAQG,UAAR,IAAsBC,WAAtB;AACD;AACF;AACF;;AAED,SAAOJ,OAAP;AACD,CAlCD;;AAoCAnI,aAAa4I,SAAb,GAAyB,UAASC,IAAT,EAAe;AACtC,MAAI,CAAC7I,aAAasB,gBAAb,CAA8BuH,IAA9B,CAAL,EAA0C;AACxC,UAAM,IAAIC,SAAJ,CAAc,wCAAd,CAAN;AACD;;AAED,MAAIX,UAAUnI,aAAaiI,iBAAb,CAA+Bc,SAASC,MAAxC,CAAd;AACA,SAAOb,QAAQU,IAAR,CAAP;AACD,CAPD;;AASA7I,aAAaiJ,SAAb,GAAyB,UAASJ,IAAT,EAAeK,KAAf,EAAsBC,OAAtB,EAA+B;AACtD,MAAI,CAACnJ,aAAasB,gBAAb,CAA8BuH,IAA9B,CAAL,EAA0C;AACxC,UAAM,IAAIC,SAAJ,CAAc,wCAAd,CAAN;AACD;;AAEDK,YAAUA,WAAW,EAArB;AACA,MAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,MAAIE,SAASF,QAAQ,QAAR,CAAb;AACA,MAAIG,OAAOH,QAAQ,MAAR,CAAX;;AAEA,MAAI,CAACA,QAAQ,KAAR,CAAL,EAAqB;AACnBD,YAAQlJ,aAAa0F,MAAb,CAAoB6D,OAAOL,KAAP,CAApB,CAAR;AACD;;AAED,MAAIhB,OAAOW,OAAO,GAAP,GAAaK,KAAxB,CAdsD,CAcvB;;AAE/B,MAAIM,OAAOJ,OAAX;;AAEA,MAAI,OAAOI,IAAP,KAAgB,QAApB,EAA8B;AAC5BA,WAAO,IAAI1B,IAAJ,EAAP;AACA0B,SAAKC,OAAL,CAAaD,KAAKE,OAAL,KAAiBN,OAA9B;AACD;;AAED,MAAII,gBAAgB1B,IAApB,EAA0B;AACxBI,YAAQ,eAAesB,KAAKG,WAAL,EAAvB;AACD,GAzBqD,CAyBpD;;;AAGF,MAAI3J,aAAasB,gBAAb,CAA8B+H,MAA9B,CAAJ,EAA2C;AACzCnB,YAAQ,cAAcmB,MAAtB;AACD,GA9BqD,CA8BpD;;;AAGF,MAAIrJ,aAAasB,gBAAb,CAA8BgI,IAA9B,CAAJ,EAAyC;AACvCpB,YAAQ,YAAYoB,IAApB;AACD,GAnCqD,CAmCpD;;;AAGF,MAAIH,QAAQ,QAAR,CAAJ,EAAuB;AACrBjB,YAAQ,UAAR;AACD;;AAEDa,WAASC,MAAT,GAAkBd,IAAlB;AACA,SAAOA,IAAP;AACD,CA5CD;;AA8CAlI,aAAa4J,YAAb,GAA4B,UAASf,IAAT,EAAeM,OAAf,EAAwB;AAClDA,YAAUA,WAAW,EAArB;AACAA,UAAQ,SAAR,IAAqB,IAAIrB,IAAJ,CAAS,CAAT,CAArB;AACA,SAAO9H,aAAaiJ,SAAb,CAAuBJ,IAAvB,EAA6B,EAA7B,EAAiCM,OAAjC,CAAP;AACD,CAJD;;AAMAnJ,aAAa6J,QAAb,GAAwB,UAASC,IAAT,EAAe;AACrC,MAAIC,WAAW,KAAf;AAAA,MACEC,OAAO9D,GAAG+D,QAAH,CAAYC,cAAZ,EADT;AAAA,MAEEC,WAAW,KAAK,CAFlB;AAAA,MAGEC,SAAS,KAAK,CAHhB;AAAA,MAIEC,YAAY,KAAK,CAJnB;AAKAP,OAAKQ,EAAL,CAAQpE,GAAGqE,IAAH,CAAQC,SAAR,CAAkBC,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACrD,QAAIC,UAAUD,MAAME,UAAN,EAAd;AACAT,eAAWQ,QAAQ,CAAR,EAAWE,WAAX,EAAX;AACAT,aAASN,KAAKgB,QAAd;AACD,GAJD;AAKAhB,OAAKQ,EAAL,CAAQpE,GAAGqE,IAAH,CAAQC,SAAR,CAAkBO,UAA1B,EAAsC,UAASL,KAAT,EAAgB;AACpD,QAAIC,UAAUD,MAAME,UAAN,EAAd;AACAP,gBAAYM,QAAQ,CAAR,EAAWE,WAAX,EAAZ;AACAd,eAAW,IAAX;AACD,GAJD;AAKAD,OAAKQ,EAAL,CAAQpE,GAAGqE,IAAH,CAAQC,SAAR,CAAkBQ,SAA1B,EAAqC,UAASN,KAAT,EAAgB;AACnDX,eAAW,KAAX;AACD,GAFD;AAGA,SAAO,YAAW;AAChB,QAAI,CAACA,QAAL,EAAe;AACf,QAAIkB,IAAIb,OAAOa,CAAP,GAAWZ,UAAUY,CAArB,GAAyBd,SAASc,CAA1C;AACA,QAAIC,QAAQpB,KAAKqB,KAAL,GAAarB,KAAKsB,OAAlB,GAA4B,CAAxC;;AAEA,QAAInJ,KAAKoJ,GAAL,CAASJ,CAAT,IAAcC,KAAlB,EAAyB;AACvBpB,WAAKmB,CAAL,GAASA,CAAT;AACD,KAFD,MAEO;AACLnB,WAAKmB,CAAL,GAASA,IAAI,CAAJ,GAAQC,KAAR,GAAgB,CAACA,KAA1B;AACAnB,iBAAW,KAAX;AACD;;AAED,QAAID,KAAKwB,MAAL,GAActB,KAAKsB,MAAvB,EAA+B;AAC7B,UAAIC,IAAInB,OAAOmB,CAAP,GAAWlB,UAAUkB,CAArB,GAAyBpB,SAASoB,CAA1C;AACA,UAAIC,QAAQ,CAAC1B,KAAKwB,MAAL,GAActB,KAAKsB,MAApB,IAA8B,CAA1C;;AAEA,UAAIrJ,KAAKoJ,GAAL,CAASE,CAAT,IAAcC,KAAlB,EAAyB;AACvB1B,aAAKyB,CAAL,GAASA,CAAT;AACD,OAFD,MAEO;AACLzB,aAAKyB,CAAL,GAASA,IAAI,CAAJ,GAAQC,KAAR,GAAgB,CAACA,KAA1B;AACAzB,mBAAW,KAAX;AACD;AACF;AACF,GAvBD;AAwBD,CA3CD;;AA6CA/J,aAAayL,gBAAb,GAAgC,UAAS3J,GAAT,EAAc;AAC5C,MAAI4J,QAAQxF,GAAGyF,GAAH,CAAOC,QAAP,IAAmB1F,GAAGyF,GAAH,CAAOE,WAA1B,GAAwC,EAAxC,GAA6C5L,OAAO6L,QAAP,CAAgBC,MAAhB,CAAuBrD,SAAvB,CAAiC,CAAjC,CAAzD;AAAA,MACEsD,OAAON,MAAMrD,KAAN,CAAY,GAAZ,CADT;;AAGA,OAAK,IAAIzG,IAAI,CAAR,EAAWC,IAAImK,KAAKrK,MAAzB,EAAiCC,IAAIC,CAArC,EAAwCD,GAAxC,EAA6C;AAC3C,QAAIqK,OAAOD,KAAKpK,CAAL,EAAQyG,KAAR,CAAc,GAAd,CAAX;;AAEA,QAAI5C,mBAAmBwG,KAAK,CAAL,CAAnB,MAAgCnK,GAApC,EAAyC;AACvC,aAAO2D,mBAAmBwG,KAAK,CAAL,CAAnB,CAAP;AACD;AACF;AACF,CAXD","file":"NetworkUtils.js","sourceRoot":"..\\..\\..\\..\\assets\\plugin_scripts","sourcesContent":["'use strict';\r\n\r\nfunction _typeof6(obj) {\r\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\r\n    _typeof6 = function _typeof6(obj) {\r\n      return typeof obj;\r\n    };\r\n  } else {\r\n    _typeof6 = function _typeof6(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n    };\r\n  }\r\n  return _typeof6(obj);\r\n}\r\n\r\nfunction _typeof5(obj) {\r\n  if (typeof Symbol === \"function\" && _typeof6(Symbol.iterator) === \"symbol\") {\r\n    _typeof5 = function _typeof5(obj) {\r\n      return _typeof6(obj);\r\n    };\r\n  } else {\r\n    _typeof5 = function _typeof5(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof6(obj);\r\n    };\r\n  }\r\n\r\n  return _typeof5(obj);\r\n}\r\n\r\nfunction _typeof4(obj) {\r\n  if (typeof Symbol === \"function\" && _typeof5(Symbol.iterator) === \"symbol\") {\r\n    _typeof4 = function _typeof4(obj) {\r\n      return _typeof5(obj);\r\n    };\r\n  } else {\r\n    _typeof4 = function _typeof4(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof5(obj);\r\n    };\r\n  }\r\n\r\n  return _typeof4(obj);\r\n}\r\n\r\nfunction _typeof3(obj) {\r\n  if (typeof Symbol === \"function\" && _typeof4(Symbol.iterator) === \"symbol\") {\r\n    _typeof3 = function _typeof3(obj) {\r\n      return _typeof4(obj);\r\n    };\r\n  } else {\r\n    _typeof3 = function _typeof3(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof4(obj);\r\n    };\r\n  }\r\n\r\n  return _typeof3(obj);\r\n}\r\n\r\nfunction _typeof2(obj) {\r\n  if (typeof Symbol === \"function\" && _typeof3(Symbol.iterator) === \"symbol\") {\r\n    _typeof2 = function _typeof2(obj) {\r\n      return _typeof3(obj);\r\n    };\r\n  } else {\r\n    _typeof2 = function _typeof2(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof3(obj);\r\n    };\r\n  }\r\n\r\n  return _typeof2(obj);\r\n}\r\n\r\nfunction _typeof(obj) {\r\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\r\n    _typeof = function _typeof(obj) {\r\n      return _typeof2(obj);\r\n    };\r\n  } else {\r\n    _typeof = function _typeof(obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\r\n    };\r\n  }\r\n\r\n  return _typeof(obj);\r\n}\r\n\r\nvar NetworkUtils = NetworkUtils || {};\r\nwindow.NetworkUtils = NetworkUtils;\r\nNetworkUtils.ArrayProto = Array.prototype;\r\nNetworkUtils.ObjProto = Object.prototype;\r\nNetworkUtils.hasOwn = NetworkUtils.ObjProto.hasOwnProperty;\r\nNetworkUtils.toString = NetworkUtils.ObjProto.toString;\r\nNetworkUtils.nativeForEach = NetworkUtils.ArrayProto.forEach;\r\nNetworkUtils.slice = NetworkUtils.ArrayProto.slice;\r\nNetworkUtils.nativeKeys = Object.keys;\r\nNetworkUtils.nativeIsArray = Array.isArray;\r\n\r\nNetworkUtils.isFunction = function(o) {\r\n  return typeof o == \"function\" || false;\r\n};\r\n\r\nNetworkUtils.isObject = function(o) {\r\n  var type = typeof o === 'undefined' ? 'undefined' : _typeof(o);\r\n  return type === 'function' || type === 'object' && !!o;\r\n};\r\n\r\nNetworkUtils.isArray = NetworkUtils.nativeIsArray || function(obj) {\r\n  return NetworkUtils.toString.call(obj) === '[object Array]';\r\n};\r\n\r\nNetworkUtils.isString = function(o) {\r\n  return typeof o === 'string';\r\n};\r\n\r\nNetworkUtils.isNotEmptyString = function(s) {\r\n  return NetworkUtils.isString(s) && s !== '';\r\n};\r\n\r\nNetworkUtils.each = function(o, fn, ctx) {\r\n  if (o == null) return;\r\n\r\n  if (NetworkUtils.nativeForEach && o.forEach === NetworkUtils.nativeForEach) {\r\n    o.forEach(fn, ctx);\r\n  } else if (o.length === +o.length) {\r\n    for (var i = 0, l = o.length; i < l; i++) {\r\n      if (i in o && fn.call(ctx, o[i], i, o) === {}) return;\r\n    }\r\n  } else {\r\n    for (var key in o) {\r\n      if (NetworkUtils.hasOwn.call(o, key)) {\r\n        if (fn.call(ctx, o[key], key, o) === {}) return;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nNetworkUtils.numFormat = function(num) {\r\n  if (num > 9999) {\r\n    return Math.floor(num / 1000).toString() + 'K';\r\n  } else {\r\n    return num.toString();\r\n  }\r\n}; //1000=>1,000\r\n\r\n\r\nNetworkUtils.numberFmt = function(num) {\r\n  if (!/^(\\+|-)?(\\d+)(\\.\\d+)?$/.test(num)) {\r\n    return num;\r\n  }\r\n\r\n  var a = RegExp.$1,\r\n    b = RegExp.$2,\r\n    c = RegExp.$3,\r\n    re = new RegExp();\r\n  re.compile(\"(\\\\d)(\\\\d{3})(,|$)\");\r\n\r\n  while (re.test(b)) {\r\n    b = b.replace(re, \"$1,$2$3\");\r\n  }\r\n\r\n  return a + \"\" + b + \"\" + c;\r\n}; //1,000=>1000\r\n\r\n\r\nNetworkUtils.fmtNumber = function(str) {\r\n  if (!NetworkUtils.isNotEmptyString(str)) return 0;\r\n  return parseInt(str.replace(/,/g, ''), 10);\r\n};\r\n\r\nNetworkUtils.defaults = function(obj) {\r\n  NetworkUtils.each(NetworkUtils.slice.call(arguments, 1), function(o) {\r\n    for (var k in o) {\r\n      if (obj[k] == null)\r\n        obj[k] = o[k];\r\n    }\r\n  });\r\n  return obj;\r\n};\r\n\r\nNetworkUtils.keys = function(obj) {\r\n  if (!NetworkUtils.isObject(obj)) return [];\r\n  if (NetworkUtils.nativeKeys) return NetworkUtils.nativeKeys(obj);\r\n  var keys = [];\r\n\r\n  for (var key in obj) {\r\n    if (NetworkUtils.hasOwn.call(obj, key)) keys.push(key);\r\n  }\r\n\r\n  return keys;\r\n};\r\n\r\nNetworkUtils.values = function(obj) {\r\n  var keys = NetworkUtils.keys(obj);\r\n  var length = keys.length;\r\n  var values = Array(length);\r\n\r\n  for (var i = 0; i < length; i++) {\r\n    values[i] = obj[keys[i]];\r\n  }\r\n\r\n  return values;\r\n};\r\n\r\nNetworkUtils.noop = function() {};\r\n\r\nNetworkUtils.cutstr = function(str, len) {\r\n  var temp,\r\n    icount = 0,\r\n    patrn = /[^\\x00-\\xff]/,\r\n    strre = \"\";\r\n\r\n  for (var i = 0; i < str.length; i++) {\r\n    if (icount < len - 1) {\r\n      temp = str.substr(i, 1);\r\n\r\n      if (patrn.exec(temp) == null) {\r\n        icount = icount + 1;\r\n      } else {\r\n        icount = icount + 2;\r\n      }\r\n\r\n      strre += temp;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (str == strre) {\r\n    return strre;\r\n  } else {\r\n    return strre + \"...\";\r\n  }\r\n};\r\n\r\nNetworkUtils.clamp = function(n, min, max) {\r\n  if (n < min) return min;\r\n  if (n > max) return max;\r\n  return n;\r\n};\r\n\r\nNetworkUtils.Progress = {};\r\nNetworkUtils.Progress.settings = {\r\n  minimum: 0.1,\r\n  trickle: true,\r\n  trickleRate: 0.3,\r\n  trickleSpeed: 100\r\n};\r\nNetworkUtils.Progress.status = null;\r\n\r\nNetworkUtils.Progress.set = function(n) {\r\n  var progress = NetworkUtils.Progress;\r\n  n = NetworkUtils.clamp(n, progress.settings.minimum, 1);\r\n  progress.status = n;\r\n  progress.cb(progress.status);\r\n  return this;\r\n};\r\n\r\nNetworkUtils.Progress.inc = function(amount) {\r\n  var progress = NetworkUtils.Progress,\r\n    n = progress.status;\r\n\r\n  if (!n) {\r\n    return progress.start();\r\n  } else {\r\n    amount = (1 - n) * NetworkUtils.clamp(Math.random() * n, 0.1, 0.95);\r\n    n = NetworkUtils.clamp(n + amount, 0, 0.994);\r\n    return progress.set(n);\r\n  }\r\n};\r\n\r\nNetworkUtils.Progress.trickle = function() {\r\n  var progress = NetworkUtils.Progress;\r\n  return progress.inc(Math.random() * progress.settings.trickleRate);\r\n};\r\n\r\nNetworkUtils.Progress.start = function(cb) {\r\n  var progress = NetworkUtils.Progress;\r\n  progress.cb = cb || NetworkUtils.noop;\r\n  if (!progress.status) progress.set(0);\r\n\r\n  var _timer = function timer() {\r\n    if (progress.status === 1) {\r\n      clearTimeout(_timer);\r\n      _timer = null;\r\n      return;\r\n    }\r\n\r\n    progress.trickle();\r\n    work();\r\n  };\r\n\r\n  var work = function work() {\r\n    setTimeout(_timer, progress.settings.trickleSpeed);\r\n  };\r\n\r\n  if (progress.settings.trickle) work();\r\n  return this;\r\n};\r\n\r\nNetworkUtils.Progress.done = function() {\r\n  var progress = NetworkUtils.Progress;\r\n  return progress.inc(0.3 + 0.5 * Math.random()).set(1);\r\n};\r\n\r\nNetworkUtils.decode = decodeURIComponent;\r\nNetworkUtils.encode = encodeURIComponent;\r\n\r\nNetworkUtils.formData = function(o) {\r\n  var kvps = [],\r\n    regEx = /%20/g;\r\n\r\n  for (var k in o) {\r\n    if (!o[k]) continue;\r\n    kvps.push(NetworkUtils.encode(k).replace(regEx, \"+\") + \"=\" + NetworkUtils.encode(o[k].toString()).replace(regEx, \"+\"));\r\n  }\r\n\r\n  return kvps.join('&');\r\n};\r\n\r\nNetworkUtils.ajax = function(o) {\r\n  var xhr = cc.loader.getXMLHttpRequest();\r\n  o = Object.assign({\r\n    type: \"GET\",\r\n    data: null,\r\n    dataType: 'json',\r\n    progress: null,\r\n    contentType: \"application/x-www-form-urlencoded\"\r\n  }, o);\r\n  if (o.progress) NetworkUtils.Progress.start(o.progress);\r\n\r\n  xhr.onreadystatechange = function() {\r\n    if (xhr.readyState == 4) {\r\n      if (xhr.status < 300) {\r\n        var res;\r\n\r\n        if (o.dataType == 'json') {\r\n          if (xhr.responseText) {\r\n            res = window.JSON ? window.JSON.parse(xhr.responseText) : eval(xhr.responseText);\r\n          }\r\n        } else {\r\n          res = xhr.responseText;\r\n        }\r\n\r\n        if (!!res) o.success(res);\r\n        if (o.progress) NetworkUtils.Progress.done();\r\n      } else {\r\n        if (o.error) o.error(xhr, xhr.status, xhr.statusText);\r\n      }\r\n    }\r\n  }; //if(\"withCredentials\" in xhr) xhr.withCredentials = true;\r\n\r\n\r\n  var url = o.url,\r\n    data = null;\r\n  var isPost = o.type === \"POST\" || o.type === \"PUT\";\r\n\r\n  if (o.data) {\r\n    if (!isPost) {\r\n      url += \"?\" + NetworkUtils.formData(o.data);\r\n      data = null;\r\n    } else if (isPost && _typeof(o.data) === 'object') {\r\n      data = NetworkUtils.formData(o.data);\r\n    } else {\r\n      data = o.data;\r\n    }\r\n  }\r\n\r\n  xhr.open(o.type, url, true);\r\n\r\n  if (isPost) {\r\n    xhr.setRequestHeader(\"Content-Type\", o.contentType);\r\n  }\r\n\r\n  xhr.timeout = 3000;\r\n\r\n  xhr.ontimeout = function() {\r\n    // XMLHttpRequest 超时\r\n    if ('function' === typeof o.timeout) {\r\n      o.timeout();\r\n    }\r\n  };\r\n  xhr.onerror  = function() {\r\n    if ('function' === typeof o.error) {\r\n      o.error();\r\n    }\r\n\r\n  }\r\n  xhr.send(data);\r\n  return xhr;\r\n};\r\n\r\nNetworkUtils.get = function(url, data, success, error) {\r\n  if (NetworkUtils.isFunction(data)) {\r\n    error = success;\r\n    success = data;\r\n    data = {};\r\n  }\r\n\r\n  NetworkUtils.ajax({\r\n    url: url,\r\n    type: \"GET\",\r\n    data: data,\r\n    success: success,\r\n    error: error || NetworkUtils.noop\r\n  });\r\n};\r\n\r\nNetworkUtils.post = function(url, data, success, error, timeout) {\r\n  if (NetworkUtils.isFunction(data)) {\r\n    error = success;\r\n    success = data;\r\n    data = {};\r\n  }\r\n\r\n  NetworkUtils.ajax({\r\n    url: url,\r\n    type: \"POST\",\r\n    data: data,\r\n    success: success,\r\n    error: error || NetworkUtils.noop,\r\n    timeout: timeout\r\n  });\r\n};\r\n\r\nNetworkUtils.now = Date.now || function() {\r\n  return new Date().getTime();\r\n};\r\n\r\nNetworkUtils.same = function(s) {\r\n  return s;\r\n};\r\n\r\nNetworkUtils.parseCookieString = function(text) {\r\n  var cookies = {};\r\n\r\n  if (NetworkUtils.isString(text) && text.length > 0) {\r\n    var cookieParts = text.split(/;\\s/g);\r\n    var cookieName;\r\n    var cookieValue;\r\n    var cookieNameValue;\r\n\r\n    for (var i = 0, len = cookieParts.length; i < len; i++) {\r\n      // Check for normally-formatted cookie (name-value)\r\n      cookieNameValue = cookieParts[i].match(/([^=]+)=/i);\r\n\r\n      if (cookieNameValue instanceof Array) {\r\n        try {\r\n          cookieName = NetworkUtils.decode(cookieNameValue[1]);\r\n          cookieValue = cookieParts[i].substring(cookieNameValue[1].length + 1);\r\n        } catch (ex) { // Intentionally ignore the cookie -\r\n          // the encoding is wrong\r\n        }\r\n      } else {\r\n        // Means the cookie does not have an =\", so treat it as\r\n        // a boolean flag\r\n        cookieName = NetworkUtils.decode(cookieParts[i]);\r\n        cookieValue = '';\r\n      }\r\n\r\n      if (cookieName) {\r\n        cookies[cookieName] = cookieValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  return cookies;\r\n};\r\n\r\nNetworkUtils.getCookie = function(name) {\r\n  if (!NetworkUtils.isNotEmptyString(name)) {\r\n    throw new TypeError('Cookie name must be a non-empty string');\r\n  }\r\n\r\n  var cookies = NetworkUtils.parseCookieString(document.cookie);\r\n  return cookies[name];\r\n};\r\n\r\nNetworkUtils.setCookie = function(name, value, options) {\r\n  if (!NetworkUtils.isNotEmptyString(name)) {\r\n    throw new TypeError('Cookie name must be a non-empty string');\r\n  }\r\n\r\n  options = options || {};\r\n  var expires = options['expires'];\r\n  var domain = options['domain'];\r\n  var path = options['path'];\r\n\r\n  if (!options['raw']) {\r\n    value = NetworkUtils.encode(String(value));\r\n  }\r\n\r\n  var text = name + '=' + value; // expires\r\n\r\n  var date = expires;\r\n\r\n  if (typeof date === 'number') {\r\n    date = new Date();\r\n    date.setDate(date.getDate() + expires);\r\n  }\r\n\r\n  if (date instanceof Date) {\r\n    text += '; expires=' + date.toUTCString();\r\n  } // domain\r\n\r\n\r\n  if (NetworkUtils.isNotEmptyString(domain)) {\r\n    text += '; domain=' + domain;\r\n  } // path\r\n\r\n\r\n  if (NetworkUtils.isNotEmptyString(path)) {\r\n    text += '; path=' + path;\r\n  } // secure\r\n\r\n\r\n  if (options['secure']) {\r\n    text += '; secure';\r\n  }\r\n\r\n  document.cookie = text;\r\n  return text;\r\n};\r\n\r\nNetworkUtils.removeCookie = function(name, options) {\r\n  options = options || {};\r\n  options['expires'] = new Date(0);\r\n  return NetworkUtils.setCookie(name, '', options);\r\n};\r\n\r\nNetworkUtils.dragNode = function(node) {\r\n  var isMoving = false,\r\n    size = cc.director.getVisibleSize(),\r\n    touchLoc = void 0,\r\n    oldPos = void 0,\r\n    moveToPos = void 0;\r\n  node.on(cc.Node.EventType.TOUCH_START, function(event) {\r\n    var touches = event.getTouches();\r\n    touchLoc = touches[0].getLocation();\r\n    oldPos = node.position;\r\n  });\r\n  node.on(cc.Node.EventType.TOUCH_MOVE, function(event) {\r\n    var touches = event.getTouches();\r\n    moveToPos = touches[0].getLocation();\r\n    isMoving = true;\r\n  });\r\n  node.on(cc.Node.EventType.TOUCH_END, function(event) {\r\n    isMoving = false;\r\n  });\r\n  return function() {\r\n    if (!isMoving) return;\r\n    var x = oldPos.x + moveToPos.x - touchLoc.x;\r\n    var xEdge = node.width * node.anchorX / 2;\r\n\r\n    if (Math.abs(x) < xEdge) {\r\n      node.x = x;\r\n    } else {\r\n      node.x = x > 0 ? xEdge : -xEdge;\r\n      isMoving = false;\r\n    }\r\n\r\n    if (node.height > size.height) {\r\n      var y = oldPos.y + moveToPos.y - touchLoc.y;\r\n      var yEdge = (node.height - size.height) / 2;\r\n\r\n      if (Math.abs(y) < yEdge) {\r\n        node.y = y;\r\n      } else {\r\n        node.y = y > 0 ? yEdge : -yEdge;\r\n        isMoving = false;\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nNetworkUtils.getQueryVariable = function(key) {\r\n  var query = cc.sys.platform == cc.sys.WECHAT_GAME ? '' : window.location.search.substring(1),\r\n    vars = query.split('&');\r\n\r\n  for (var i = 0, l = vars.length; i < l; i++) {\r\n    var pair = vars[i].split('=');\r\n\r\n    if (decodeURIComponent(pair[0]) === key) {\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n};\r\n"]}