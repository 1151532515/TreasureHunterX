{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Heap.js"],"names":["BinaryHeap","customCompare","list","compare","prototype","buildHeap","keys","values","length","Error","nodeArray","i","push","Node","undefined","buildHeapFromNodeArray","clear","extractMinimum","shift","min","pop","heapify","findMinimum","isEmpty","insert","key","value","node","parent","getParent","swap","size","union","otherHeap","array","concat","a","b","heap","l","getLeft","r","getRight","smallest","Math","floor","temp","module","exports"],"mappings":"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","file":"Heap.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["/**\r\n * Creates a binary heap.\r\n *\r\n * @constructor\r\n * @param {function} customCompare An optional custom node comparison\r\n * function.\r\n */\r\nvar BinaryHeap = function (customCompare) {\r\n  /**\r\n   * The backing data of the heap.\r\n   * @type {Object[]}\r\n   * @private\r\n   */\r\n  this.list = [];\r\n\r\n  if (customCompare) {\r\n    this.compare = customCompare;\r\n  }\r\n};\r\n\r\n/**\r\n * Builds a heap with the provided keys and values, this will discard the\r\n * heap's current data.\r\n *\r\n * @param {Array} keys An array of keys.\r\n * @param {Array} values An array of values. This must be the same size as the\r\n * key array.\r\n */\r\nBinaryHeap.prototype.buildHeap = function (keys, values) {\r\n  if (typeof values !== 'undefined' && values.length !== keys.length) {\r\n    throw new Error('Key array must be the same length as value array');\r\n  }\r\n\r\n  var nodeArray = [];\r\n\r\n  for (var i = 0; i < keys.length; i++) {\r\n    nodeArray.push(new Node(keys[i], values ? values[i] : undefined));\r\n  }\r\n\r\n  buildHeapFromNodeArray(this, nodeArray);\r\n};\r\n\r\n/**\r\n * Clears the heap's data, making it an empty heap.\r\n */\r\nBinaryHeap.prototype.clear = function () {\r\n  this.list.length = 0;\r\n};\r\n\r\n/**\r\n * Extracts and returns the minimum node from the heap.\r\n *\r\n * @return {Node} node The heap's minimum node or undefined if the heap is\r\n * empty.\r\n */\r\nBinaryHeap.prototype.extractMinimum = function () {\r\n  if (!this.list.length) {\r\n    return undefined;\r\n  }\r\n  if (this.list.length === 1) {\r\n    return this.list.shift();\r\n  }\r\n  var min = this.list[0];\r\n  this.list[0] = this.list.pop();\r\n  heapify(this, 0);\r\n  return min;\r\n};\r\n\r\n/**\r\n * Returns the minimum node from the heap.\r\n *\r\n * @return {Node} node The heap's minimum node or undefined if the heap is\r\n * empty.\r\n */\r\nBinaryHeap.prototype.findMinimum = function () {\r\n  return this.isEmpty() ? undefined : this.list[0];\r\n};\r\n\r\n/**\r\n * Inserts a new key-value pair into the heap.\r\n *\r\n * @param {Object} key The key to insert.\r\n * @param {Object} value The value to insert.\r\n * @return {Node} node The inserted node.\r\n */\r\nBinaryHeap.prototype.insert = function (key, value) {\r\n  var i = this.list.length;\r\n  var node = new Node(key, value);\r\n  this.list.push(node);\r\n  var parent = getParent(i);\r\n  while (typeof parent !== 'undefined' &&\r\n      this.compare(this.list[i], this.list[parent]) < 0) {\r\n    swap(this.list, i, parent);\r\n    i = parent;\r\n    parent = getParent(i);\r\n  }\r\n  return node;\r\n};\r\n\r\n/**\r\n * @return {boolean} Whether the heap is empty.\r\n */\r\nBinaryHeap.prototype.isEmpty = function () {\r\n  return !this.list.length;\r\n};\r\n\r\n/**\r\n * @return {number} The size of the heap.\r\n */\r\nBinaryHeap.prototype.size = function () {\r\n  return this.list.length;\r\n};\r\n\r\n/**\r\n * Joins another heap to this one.\r\n *\r\n * @param {BinaryHeap} otherHeap The other heap.\r\n */\r\nBinaryHeap.prototype.union = function (otherHeap) {\r\n  var array = this.list.concat(otherHeap.list);\r\n  buildHeapFromNodeArray(this, array);\r\n};\r\n\r\n/**\r\n * Compares two nodes with each other.\r\n *\r\n * @private\r\n * @param {Object} a The first key to compare.\r\n * @param {Object} b The second key to compare.\r\n * @return -1, 0 or 1 if a < b, a == b or a > b respectively.\r\n */\r\nBinaryHeap.prototype.compare = function (a, b) {\r\n  if (a.key > b.key) {\r\n    return 1;\r\n  }\r\n  if (a.key < b.key) {\r\n    return -1;\r\n  }\r\n  return 0;\r\n};\r\n\r\n/**\r\n * Heapifies a node.\r\n *\r\n * @private\r\n * @param {BinaryHeap} heap The heap containing the node to heapify.\r\n * @param {number} i The index of the node to heapify.\r\n */\r\nfunction heapify(heap, i) {\r\n  var l = getLeft(i);\r\n  var r = getRight(i);\r\n  var smallest = i;\r\n  if (l < heap.list.length &&\r\n      heap.compare(heap.list[l], heap.list[i]) < 0) {\r\n    smallest = l;\r\n  }\r\n  if (r < heap.list.length &&\r\n      heap.compare(heap.list[r], heap.list[smallest]) < 0) {\r\n    smallest = r;\r\n  }\r\n  if (smallest !== i) {\r\n    swap(heap.list, i, smallest);\r\n    heapify(heap, smallest);\r\n  }\r\n}\r\n\r\n/**\r\n * Builds a heap from a node array, this will discard the heap's current data.\r\n *\r\n * @private\r\n * @param {BinaryHeap} heap The heap to override.\r\n * @param {Node[]} nodeArray The array of nodes for the new heap.\r\n */\r\nfunction buildHeapFromNodeArray(heap, nodeArray) {\r\n  heap.list = nodeArray;\r\n  for (var i = Math.floor(heap.list.length / 2); i >= 0; i--) {\r\n    heapify(heap, i);\r\n  }\r\n}\r\n\r\n/**\r\n * Swaps two values in an array.\r\n *\r\n * @private\r\n * @param {Array} array The array to swap on.\r\n * @param {number} a The index of the first element.\r\n * @param {number} b The index of the second element.\r\n */\r\nfunction swap(array, a, b) {\r\n  var temp = array[a];\r\n  array[a] = array[b];\r\n  array[b] = temp;\r\n}\r\n\r\n/**\r\n * Gets the index of a node's parent.\r\n *\r\n * @private\r\n * @param {number} i The index of the node to get the parent of.\r\n * @return {number} The index of the node's parent.\r\n */\r\nfunction getParent(i) {\r\n  if (i === 0) {\r\n    return undefined;\r\n  }\r\n  return Math.floor((i - 1) / 2);\r\n}\r\n\r\n/**\r\n * Gets the index of a node's left child.\r\n *\r\n * @private\r\n * @param {number} i The index of the node to get the left child of.\r\n * @return {number} The index of the node's left child.\r\n */\r\nfunction getLeft(i) {\r\n  return 2 * i + 1;\r\n}\r\n\r\n/**\r\n * Gets the index of a node's right child.\r\n *\r\n * @private\r\n * @param {number} i The index of the node to get the right child of.\r\n * @return {number} The index of the node's right child.\r\n */\r\nfunction getRight(i) {\r\n  return 2 * i + 2;\r\n}\r\n\r\n/**\r\n * Creates a node.\r\n *\r\n * @constructor\r\n * @param {Object} key The key of the new node.\r\n * @param {Object} value The value of the new node.\r\n */\r\nfunction Node(key, value) {\r\n  this.key = key;\r\n  this.value = value;\r\n}\r\n\r\nmodule.exports = BinaryHeap;\r\n"]}