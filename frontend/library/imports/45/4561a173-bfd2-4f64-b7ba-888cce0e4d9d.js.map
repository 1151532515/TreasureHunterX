{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\KeyboardControls.js"],"names":["cc","Class","extends","Component","properties","setInputControls","self","systemEvent","on","SystemEvent","EventType","KEY_DOWN","event","keyCode","macro","KEY","w","activeDirection","dPjY","s","a","dPjX","d","node","KEY_UP","onLoad"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY,EAHL;;AAKPC,oBAAkB,4BAAW;AAC3B,QAAMC,OAAO,IAAb;AACA;AACA;AACAN,OAAGO,WAAH,CAAeC,EAAf,CAAkBR,GAAGS,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,UAASC,KAAT,EAAgB;AACnE,cAAQA,MAAMC,OAAd;AACE,aAAKb,GAAGc,KAAH,CAASC,GAAT,CAAaC,CAAlB;AACEV,eAAKW,eAAL,CAAqBC,IAArB,GAA4B,CAAC,GAA7B;AACA;AACF,aAAKlB,GAAGc,KAAH,CAASC,GAAT,CAAaI,CAAlB;AACEb,eAAKW,eAAL,CAAqBC,IAArB,GAA4B,CAAC,GAA7B;AACA;AACF,aAAKlB,GAAGc,KAAH,CAASC,GAAT,CAAaK,CAAlB;AACEd,eAAKW,eAAL,CAAqBI,IAArB,GAA4B,CAAC,GAA7B;AACA;AACF,aAAKrB,GAAGc,KAAH,CAASC,GAAT,CAAaO,CAAlB;AACEhB,eAAKW,eAAL,CAAqBI,IAArB,GAA4B,CAAC,GAA7B;AACA;AACF;AACE;AAdJ;AAgBD,KAjBD,EAiBGf,KAAKiB,IAjBR;;AAmBA;AACAvB,OAAGO,WAAH,CAAeC,EAAf,CAAkBR,GAAGS,WAAH,CAAeC,SAAf,CAAyBc,MAA3C,EAAmD,UAASZ,KAAT,EAAgB;AACjE,cAAQA,MAAMC,OAAd;AACE,aAAKb,GAAGc,KAAH,CAASC,GAAT,CAAaC,CAAlB;AACE,cAAI,CAAC,GAAD,IAAQV,KAAKW,eAAL,CAAqBC,IAAjC,EAAuC;AACrCZ,iBAAKW,eAAL,CAAqBC,IAArB,GAA4B,GAA5B;AACD;AACD;AACF,aAAKlB,GAAGc,KAAH,CAASC,GAAT,CAAaI,CAAlB;AACE,cAAI,CAAC,GAAD,IAAQb,KAAKW,eAAL,CAAqBC,IAAjC,EAAuC;AACrCZ,iBAAKW,eAAL,CAAqBC,IAArB,GAA4B,GAA5B;AACD;AACD;AACF,aAAKlB,GAAGc,KAAH,CAASC,GAAT,CAAaK,CAAlB;AACE,cAAI,CAAC,GAAD,IAAQd,KAAKW,eAAL,CAAqBI,IAAjC,EAAuC;AACrCf,iBAAKW,eAAL,CAAqBI,IAArB,GAA4B,GAA5B;AACD;AACD;AACF,aAAKrB,GAAGc,KAAH,CAASC,GAAT,CAAaO,CAAlB;AACE,cAAI,CAAC,GAAD,IAAQhB,KAAKW,eAAL,CAAqBI,IAAjC,EAAuC;AACrCf,iBAAKW,eAAL,CAAqBI,IAArB,GAA4B,GAA5B;AACD;AACD;AACF;AACE;AAtBJ;AAwBD,KAzBD,EAyBGf,KAAKiB,IAzBR;AA0BD,GAvDM;;AAyDP;;AAEAE,QA3DO,oBA2DE;AACP;AACA,SAAKR,eAAL,GAAuB;AACrBC,YAAM,GADe;AAErBG,YAAM;AAFe,KAAvB;AAIA,SAAKhB,gBAAL;AACD;AAlEM,CAAT","file":"KeyboardControls.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n  extends: cc.Component,\r\n\r\n  properties: {},\r\n\r\n  setInputControls: function() {\r\n    const self = this;\r\n    // add keyboard event listener\r\n    // When there is a key being pressed down, judge if it's the designated directional button and set up acceleration in the corresponding direction\r\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, function(event) {\r\n      switch (event.keyCode) {\r\n        case cc.macro.KEY.w:\r\n          self.activeDirection.dPjY = +1.0;\r\n          break;\r\n        case cc.macro.KEY.s:\r\n          self.activeDirection.dPjY = -1.0;\r\n          break;\r\n        case cc.macro.KEY.a:\r\n          self.activeDirection.dPjX = -2.0;\r\n          break;\r\n        case cc.macro.KEY.d:\r\n          self.activeDirection.dPjX = +2.0;\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }, self.node);\r\n\r\n    // when releasing the button, stop acceleration in this direction\r\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, function(event) {\r\n      switch (event.keyCode) {\r\n        case cc.macro.KEY.w:\r\n          if (+1.0 == self.activeDirection.dPjY) {\r\n            self.activeDirection.dPjY = 0.0;\r\n          }\r\n          break;\r\n        case cc.macro.KEY.s:\r\n          if (-1.0 == self.activeDirection.dPjY) {\r\n            self.activeDirection.dPjY = 0.0;\r\n          }\r\n          break;\r\n        case cc.macro.KEY.a:\r\n          if (-2.0 == self.activeDirection.dPjX) {\r\n            self.activeDirection.dPjX = 0.0;\r\n          }\r\n          break;\r\n        case cc.macro.KEY.d:\r\n          if (+2.0 == self.activeDirection.dPjX) {\r\n            self.activeDirection.dPjX = 0.0;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }, self.node);\r\n  },\r\n\r\n  // LIFE-CYCLE CALLBACKS:\r\n\r\n  onLoad() {\r\n    // Properties deliberately hidden from GUI panel.\r\n    this.activeDirection = {\r\n      dPjY: 0.0,\r\n      dPjX: 0.0\r\n    };\r\n    this.setInputControls();\r\n  }\r\n});\r\n\r\n"]}