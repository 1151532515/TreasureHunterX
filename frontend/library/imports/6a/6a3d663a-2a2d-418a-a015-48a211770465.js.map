{"version":3,"sources":["../../../../assets/scripts/assets/scripts/CountdownToBeginGame.js"],"names":["cc","Class","extends","Component","properties","countdownSeconds","type","Label","default","onLoad","setData","startedMillis","Date","now","durationMillis","update","currentGMTMillis","elapsedMillis","remainingMillis","remaingHint","Math","round","string"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;;AAGPC,cAAY;AACVC,sBAAmB;AACjBC,YAAMN,GAAGO,KADQ;AAEjBC,eAAS;AAFQ;AADT,GAHL;;AAUP;;AAEAC,QAZO,oBAYE,CAGR,CAfM;AAgBPC,SAhBO,qBAgBG;AACR,SAAKC,aAAL,GAAqBC,KAAKC,GAAL,EAArB;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACD,GAnBM;AAoBPC,QApBO,oBAoBE;AACP,QAAMC,mBAAmBJ,KAAKC,GAAL,EAAzB;AACA,QAAMI,gBAAgBD,mBAAmB,KAAKL,aAA9C;AACA,QAAIO,kBAAkB,KAAKJ,cAAL,GAAsBG,aAA5C;AACA,QAAGC,mBAAmB,CAAtB,EAAyB;AACtBA,wBAAkB,CAAlB;AACF;AACD,QAAIC,cAAc,KAAKC,KAAKC,KAAL,CAAWH,kBAAkB,IAA7B,CAAvB;AACA,QAAGC,eAAe,KAAKd,gBAAL,CAAsBiB,MAAxC,EAAgD;AAC9C,WAAKjB,gBAAL,CAAsBiB,MAAtB,GAA+BH,WAA/B;AACD;AACF;AA/BM,CAAT","file":"CountdownToBeginGame.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    countdownSeconds : {\n      type: cc.Label,\n      default: null\n    },\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n\n\n  },\n  setData() {\n    this.startedMillis = Date.now();\n    this.durationMillis = 3000;  \n  },\n  update() {\n    const currentGMTMillis = Date.now();\n    const elapsedMillis = currentGMTMillis - this.startedMillis;\n    let remainingMillis = this.durationMillis - elapsedMillis;\n    if(remainingMillis <= 0) {\n       remainingMillis = 0;  \n    }\n    let remaingHint = \"\" + Math.round(remainingMillis / 1000 ); \n    if(remaingHint != this.countdownSeconds.string) {\n      this.countdownSeconds.string = remaingHint;\n    }\n  }\n});\n"]}